import{_ as l,m as h,o as r,c,b as s,F as m,f as _,t as i,h as p,i as g,v as y,g as v}from"./index-071cb391.js";import{b,a as f}from"./apiPath-bdbb9eb3.js";const k={name:"ProductView",props:["productId"],data(){return{product:[],qty:1}},methods:{...h(v,["setLoading"]),getProduct(){this.setLoading(1),this.$http.get(`${b}/${this.productId}`).then(e=>{this.product=e.data.product}).catch(e=>{alert(e.response.data.message),this.$router.push("/products")}).then(()=>{this.setLoading(-1)})},addToCart(e,o=1){this.setLoading(1);const u={product_id:e,qty:o};this.$http.post(f,{data:u}).then(d=>{alert(d.data.message)}).catch(d=>{alert(d.response.data.message)}).then(()=>{this.setLoading(-1)})}},mounted(){this.getProduct()}},L={class:"row"},C={class:"col-sm-6"},P=["src"],V={class:"col-sm-6"},q={class:"badge bg-primary rounded-pill"},w={key:0,class:"h5"},x={key:1,class:"h6"},U={key:2,class:"h5"},B={class:"input-group"};function T(e,o,u,d,t,a){return r(),c("div",L,[s("div",C,[(r(!0),c(m,null,_(t.product.imagesUrl,n=>(r(),c("img",{class:"img-fluid",src:n,key:n},null,8,P))),128))]),s("div",V,[s("span",q,i(t.product.category),1),s("p",null,"商品描述："+i(t.product.description),1),s("p",null,"商品內容："+i(t.product.content),1),t.product.price?p("",!0):(r(),c("div",w,i(t.product.origin_price)+" 元",1)),t.product.price?(r(),c("del",x,"原價 "+i(t.product.origin_price)+" 元",1)):p("",!0),t.product.price?(r(),c("div",U,"現在只要 "+i(t.product.price)+" 元",1)):p("",!0),s("div",null,[s("div",B,[g(s("input",{type:"number",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=n=>t.qty=n),min:"1"},null,512),[[y,t.qty,void 0,{number:!0}]]),s("button",{type:"button",class:"btn btn-primary",onClick:o[1]||(o[1]=n=>a.addToCart(t.product.id,t.qty))}," 加入購物車 ")])])])])}const I=l(k,[["render",T]]);export{I as default};
