import{_,m as p,o,c as i,b as t,F as g,f as m,g as b,n as f,t as a,e as c}from"./index-6c1bda23.js";import{u as k,a as y}from"./apiPath-bdbb9eb3.js";const $={name:"ProductView",data(){return{products:[]}},methods:{...p(b,["setLoading"]),getProducts(){this.setLoading(1),this.$http.get(k).then(s=>{this.products=s.data.products}).catch(s=>{alert(s.response.data.message)}).then(()=>{this.setLoading(-1)})},goToProduct(s){this.$router.push(`/product/${s.id}`)},addToCart(s,r=1){this.setLoading(1);const l={product_id:s,qty:r};this.$http.post(y,{data:l}).then(n=>{alert(n.data.message)}).catch(n=>{alert(n.response.data.message)}).then(()=>{this.setLoading(-1)})}},mounted(){this.getProducts()}},v={class:"table align-middle"},C=t("thead",null,[t("tr",null,[t("th",null,"圖片"),t("th",null,"商品名稱"),t("th",null,"價格"),t("th")])],-1),P={style:{width:"200px"}},x={class:"h5"},L={class:"h6"},T={class:"h5"},V={class:"btn-group btn-group-sm"},w=["onClick"],B=t("i",{class:"fas fa-spinner fa-pulse"},null,-1),S=["onClick"],U=t("i",{class:"fas fa-spinner fa-pulse"},null,-1);function z(s,r,l,n,u,d){return o(),i("table",v,[C,t("tbody",null,[(o(!0),i(g,null,m(u.products,e=>(o(),i("tr",{key:e.id},[t("td",P,[t("div",{style:f([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.imageUrl})`}])},null,4)]),t("td",null,a(e.title),1),t("td",null,[t("div",x,a(e.price)+" 元",1),t("del",L,"原價 "+a(e.origin_price)+" 元",1),t("div",T,"現在只要 "+a(e.price)+" 元",1)]),t("td",null,[t("div",V,[t("button",{type:"button",class:"btn btn-outline-secondary",onClick:h=>d.goToProduct(e)},[B,c(" 查看詳細 ")],8,w),t("button",{type:"button",class:"btn btn-outline-danger",onClick:h=>d.addToCart(e.id)},[U,c(" 加到購物車 ")],8,S)])])]))),128))])])}const A=_($,[["render",z]]);export{A as default};
